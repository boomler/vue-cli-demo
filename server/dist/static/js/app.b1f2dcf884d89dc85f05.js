webpackJsonp([1,0],[function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}var a=i(2),o=s(a),n=i(67),c=s(n),d=i(85),l=s(d),v=i(6),r=s(v);o["default"].use(l["default"]);var h=new l["default"];(0,r["default"])(h),h.start(c["default"],"#app")},function(t,e,i){var s,a;s=i(9),a=i(46),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},,function(t,e,i){var s,a;s=i(11),a=i(47),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;s=i(12),a=i(48),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(30),a=i(52),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){return t.map({"/":{name:"index",component:i(5)},"/index":{component:i(5)},"/user":{component:i(82)},"/newArticle":{component:i(77)},"/image":{component:i(74)},"/newImage":{component:i(78)},imageCategory:{component:i(75)},"/video":{component:i(83)},"/newVideo":{component:i(79)},videoCategory:{component:i(84)},"/editContent/:type/:id":{component:i(73)},"/login":{name:"login",component:i(76)},"/signup":{name:"signup",component:i(80)},"*":{name:"404",component:i(70)},"/updateCode":{component:i(81)},"/changePwd":{component:i(71)},"/comments":{component:i(72)}})}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(69),o=s(a),n=i(68),c=s(n);e["default"]={components:{vNav:o["default"],leftBar:c["default"]}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{com:[{name:"人员管理",active:!1,items:[{name:"人员列表",url:"/user?status=1",active:!1},{name:"黑名单",url:"/user?status=0",active:!1}]},{name:"图片管理",active:!1,items:[{name:"图片列表",url:"/image?status=1"},{name:"草稿箱",url:"/image?status=0"},{name:"回收站",url:"/image?status=2"},{name:"新图片",url:"/newImage"},{name:"图片分类",url:"/imageCategory"}]},{name:"视频管理",active:!1,items:[{name:"视频列表",url:"/video?status=1"},{name:"草稿箱",url:"/video?status=0"},{name:"回收站",url:"/video?status=2"},{name:"新视频",url:"/newVideo"},{name:"视频分类",url:"/videoCategory"}]},{name:"评论管理",active:!1,items:[{name:"未审核",url:"/comments?status=0"},{name:"已通过",url:"/comments?status=1"},{name:"未通过",url:"/comments?status=2"}]},{name:"代码部署",active:!1,items:[{name:"代码部署",url:"/updateCode"}]},{name:"账户管理",active:!1,items:[{name:"更改密码",url:"/changePwd"}]}]}},ready:function(){function t(){var t=document.querySelectorAll(".nav-line");if("#!/login"==location.hash||"#!/signup"==location.hash)for(var e=0,i=t.length;e<i;e++)t[e].style.display="none";else for(var e=0,i=t.length;e<i;e++)t[e].style.display="block"}t(),window.addEventListener("hashchange",t)},methods:{active:function(t){t.active=!t.active},choose:function(t,e){t.items.forEach(function(t){return t.active=!1}),e.active=!0}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["msg"],data:function(){return{show:!1,flag:"",type:1,text:""}},methods:{showMsg:function(t,e){this.text=t,this.type=e,this.show=!0,clearTimeout(this.flag),this.flag=setTimeout(function(){this.show=!1}.bind(this),2e3)},success:function(t){this.showMsg(t,1)},error:function(t){this.showMsg(t,2)},loading:function(t){this.showMsg(t,3)}},watch:{msg:{handler:function(t){console.log(t),this.showMsg(t.content,t.type)},deep:!0}}}},function(t,e){"use strict";function i(){var t=document.querySelector(".top");"#!/login"==location.hash||"#!/signup"==location.hash?t.style.display="none":t.style.display="block"}Object.defineProperty(e,"__esModule",{value:!0}),window.addEventListener("hashchange",i),e["default"]={data:function(){return{name:localStorage.getItem("name")}},ready:function(){i()},methods:{clear:function(){this.name="",localStorage.removeItem("name"),location.href="#!/login"}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:["cur","all"],data:function(){var t=9,e=4,i=2,s=4;return{breakpage:t,breakspace:i,maxspace:s,currentposition:e}},computed:{prevnum:function i(){var i=this.cur-this.currentposition;return i<1&&(i=1),i},nextnum:function s(){var s=this.cur+this.currentposition;return s>this.all&&(s=this.all),s},prevery:function(){return this.prevnum-this.breakspace>this.maxspace},prevobj:function(){var t={preplist:[],preomit:!1,prenlist:[]};if(this.prevery){for(var e=1;e<=this.breakspace;e++)t.preplist.push(e);for(t.preomit=!0,e=this.all-this.breakpage+1;e<this.prevnum;e++)t.prenlist.push(e)}else for(e=1;e<this.prevnum;e++)t.prenlist.push(e);return t},curobj:function(){for(var t=[],e=this.prevnum;e<=this.nextnum;e++)t.push(e);return t},nextvery:function(){return this.all-this.breakspace-this.nextnum+1>this.maxspace},nextobj:function(){var t={nextplist:[],nextomit:!1,nextnlist:[]};if(this.nextvery){for(var e=this.nextnum+1;e<=this.breakpage;e++)t.nextplist.push(e);for(t.nextomit=!0,e=this.all-this.breakspace+1;e<=this.all;e++)t.nextnlist.push(e)}else for(e=this.nextnum+1;e<=this.all;e++)t.nextnlist.push(e);return t}},methods:{click:function(t){this.cur!=t&&this.$dispatch("page-change",t)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{url:{type:String,"default":""}},data:function(){return{loading:!1}},methods:{btn:function(){this.loading||(this.$els.form.reset(),this.$els.file.click())},upload:function(){var t=this;t.loading=!0;var e=new FormData;e.append("img",t.$els.file.files[0]);var i=new XMLHttpRequest;i.open("post","http://60.205.191.146:7000/upload"),i.withCredentials=!0,i.send(e),i.onload=function(){var e=JSON.parse(i.responseText);t.loading=!1,200==e.code&&(t.url=e.data.file)}}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{pwd:"",newPwd:"",rePwd:"",msg:{content:"",type:""}}},methods:{submit:function(){var t={pwd:this.pwd,newPwd:this.newPwd,rePwd:this.rePwd};""==this.pwd?this.msg={content:"当前密码不能为空！",type:2}:t.newPwd!==t.rePwd?this.msg={content:"新设密码与重复密码不一致！",type:2}:post("/changePwd",t,function(t){200==t.code?(this.msg={content:"密码修改成功，请重新登录",type:1},setTimeout(function(){location.href="#!/login"},3e3)):this.msg={content:t.msg,type:2}}.bind(this))}},components:{messageTip:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=s(a),n=i(1),c=s(n),d=i(2),l=s(d);l["default"].filter("time",function(t){var e=new Date(t),i=e.getFullYear(),s=("0"+e.getMonth()).slice(-2),a=("0"+e.getDate()).slice(-2),o=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return i+"-"+s+"-"+a+" "+o+":"+n}),e["default"]={data:function(){return{comments:[],cur:1,all:1,content:"",status:1,msg:{content:"",type:""}}},ready:function(){this.status=hashGet("status"),hashSet({status:hashGet("status")},!0),this.getComment(),this.getPage(),window.addEventListener("hashchange",function(){this.status=hashGet("status"),this.getComment(),this.getPage()}.bind(this))},methods:{getComment:function(){get("/comment",{status:hashGet("status")},function(t){200==t.code?this.comments=t.data:this.msg={content:t.msg,type:2}}.bind(this))},changeStatus:function(t,e){var i=1==e?"发布成功！":"已标记为未通过";post("/changeComment",{id:t,status:e},function(t){200==t.code?(this.getComment(),this.msg={content:i,type:1}):this.msg={content:t.msg,type:2}}.bind(this))},search:function(){},getPage:function(){get("/commentNum",{status:hashGet("status")},function(t){})}},components:{pagination:o["default"],messageTip:c["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{title:"",msg:{content:"",type:1}}},ready:function(){this.type=this.$route.params.type,this.id=this.$route.params.id;var t=UM.getEditor("container");document.querySelector(".edui-container")||location.reload(),get("/content/"+this.type+"/"+this.id,function(e){if(200==e.code){var i=e.data;this.title=i.title,t.setContent(i.content||"")}}.bind(this))},methods:{submit:function(){var t=UM.getEditor("container"),e={content:t.getContent()};post("/content/"+this.type+"/"+this.id,e,function(t,e){200==t.code&&(this.msg={content:"保存成功！",type:1},history.back())}.bind(this))}},components:{messageTip:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=s(a),n=i(1),c=s(n),d=i(2),l=s(d);l["default"].filter("time",function(t){var e=new Date(t),i=e.getFullYear(),s=("0"+e.getMonth()).slice(-2),a=("0"+e.getDate()).slice(-2),o=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return i+"- "+s+"-"+a+" "+o+":"+n}),e["default"]={data:function(){return{images:[],cur:1,all:1,category:[],childs:[],status:1,fid:"",categoryId:"",imageName:"",relative:{show:!1,images:[{id:5,title:"sss"}],cur_img:"",to:""},msg:{content:"",type:""}}},ready:function(){this.status=hashGet("status"),hashSet({status:hashGet("status")},!0),this.getImage(),this.getPage(),get("/category",{type:1},function(t){t.data.forEach(function(t){t.show_child=!1}),this.category=t.data}.bind(this)),window.addEventListener("hashchange",function(){this.status=hashGet("status"),this.getImage(),this.getPage()}.bind(this))},methods:{getRelation:function(t){console.log(t);var e=this.images[t].id;this.relative.cur_img=e,get("/relation/1/"+e,function(t){200==t.code?(this.relative.images=t.data,this.relative.show=!0):this.msg={content:t.msg,type:2}}.bind(this))},rmRelative:function(t,e){var i={from:this.relative.cur_img,to:t,type:1};post("/rmRelation",i,function(t){200==t.code?this.relative.images.splice(e,1):this.msg={content:t.msg,type:2}}.bind(this))},addRelation:function(){var t={from:this.relative.cur_img,to:this.relative.to,type:1};post("/addRelation",t,function(t){200==t.code?(this.relative.images.push(t.data),this.msg={content:"添加成功！",type:1}):this.msg={content:t.msg,type:2}}.bind(this))},changeFather:function(){console.log(this.categoryId),this.category.forEach(function(t){t.id==this.fid&&(this.childs=t.childs)}.bind(this))},changePriority:function(t,e){var i={id:t,priority:e};post("/changeImage",i,function(t){200==t.code?(this.getImage(),this.msg={content:"更改成功",type:1}):this.msg={content:t.msg,type:2}}.bind(this))},changePosition:function(t){var e={id:this.images[t].id,position:this.images[t].position};post("/changeImage",e,function(t){200==t.code?(this.getImage(),this.msg={content:"更改成功",type:1}):this.msg={content:t.msg,type:2}}.bind(this))},search:function(){var t={};this.fid&&(t.fid=this.fid),this.categoryId&&(t.categoryId=this.categoryId),this.imageName&&(t.imageName=this.imageName);this.condition;console.log(t),hashSet(t)},getImage:function(){get("/image",hashGet(),function(t){200==t.code&&(this.images=t.data)}.bind(this))},getPage:function(){get("/imageCount",hashGet(),function(t){200==t.code&&(this.all=Math.ceil(t.data[0].num/10),this.cur=hashGet("page")||1)}.bind(this))},changePage:function(t){this.cur=t,hashSet({page:t}),this.cur=t},changeStatus:function(t,e){var i=1,s="发布成功！";1==e&&(i=2,s="撤销成功！"),0==e&&(i=1,s="发布成功！"),post("/changeImage",{id:t,status:i},function(t){200==t.code?(this.getImage(),this.msg={content:s,type:1}):this.msg={content:t.msg,type:2}}.bind(this))}},components:{pagination:o["default"],messageTip:c["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{categorys:[],addChild:{show:!1,father:"",fathername:"",child:"",childname:"",description:"",msg:{content:"",type:1}},del:{del_id:0,show:!1}}},ready:function(){this.getData()},methods:{init:function(t,e,i,s,a){this.addChild.father=t||0,this.addChild.fathername=e,this.addChild.child=i,this.addChild.childname=s,this.addChild.description=a,this.addChild.show=!0},getData:function(){get("/category",{type:1},function(t){t.data.forEach(function(t){t.show_child=!1}),this.categorys=t.data}.bind(this))},add:function(){var t={father:this.addChild.father,childname:this.addChild.childname,type:1,description:this.addChild.description};return console.log(t.childname),void 0==t.childname?void(this.msg={content:"新类别得有名字哟~",type:2}):(this.addChild.child&&(t.child=this.addChild.child),void post("/addCategory",t,function(t){200==t.code&&(this.msg={content:"修改成功！",type:1},this.addChild.show=!1,this.getData())}.bind(this)))},"delete":function(t){console.log(this.del.del_id),this.categorys.forEach(function(e){if(e.id==t&&e.childs&&e.childs.length>0)return void(this.msg={content:"该分类下有子类，请先删除或移至其他分类",type:2})}),post("/delCategory",{id:this.del.del_id},function(t){200==t.code?(this.msg={content:"删除成功！",type:1},this.getData(),this.del.show=!1):this.msg={content:t.msg,type:2}}.bind(this))}},components:{messageTip:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{name:"",pwd:"",msg:{}}},methods:{submit:function(){var t={name:this.name,pwd:this.pwd};""===t.name||""===t.pwd?this.msg={content:"用户名或密码不能为空！",type:2}:post("/login",t,function(t){200==t.code?(localStorage.setItem("name",this.name),location.href="#!/index"):this.msg={content:t.msg,type:2}}.bind(this))}},components:{"message-tip":o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(4),o=s(a);e["default"]={data:function(){return{id:0,title:"",description:"",thumbnail:""}},computed:{id:function n(){var t=location.href,n=/\?id=[\d]*/.exec(t);return n?n.slice(3):0}},methods:{submit:function(){var t={title:this.title,thumbnail:this.thumbnail,description:this.description};0!=this.id&&(t.id=this.id),post("/admin.php?c=article&a=newArticle",t,function(t){})}},events:{"accept:image":function(t){this.thumbnail=t}},components:{upload:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a),n=i(4),c=s(n);e["default"]={data:function(){return{id:hashGet("id")||"",title:"",description:"",thumbnail:"",img:"",fid:0,category:[],childs:[],categoryId:"",msg:{content:"",type:""}}},ready:function(){get("/category",{type:1},function(t){t.data.forEach(function(t){t.show_child=!1}),this.category=t.data}.bind(this)),0!==this.id?get("/imageDetail",{id:this.id},function(t){if(200==t.code){var e=t.data;console.log(e),this.title=e.title,this.fid=e.category.father,this.changeFather(),this.categoryId=e.category.id,this.description=e.description,this.thumbnail=e.thumbnail,this.img=e.img}}.bind(this)):(this.id="",this.title="",this.description="",this.thumbnail="",this.img="")},methods:{changeFather:function(){console.log(this.categoryId),this.category.forEach(function(t){t.id==this.fid&&(this.childs=t.childs)}.bind(this))},submit:function(){var t={title:this.title,thumbnail:this.thumbnail,description:this.description,categoryId:this.categoryId,img:this.img},e="";if(""==this.title&&(e="图片标题不能为空呀！"),""==this.thumbnail&&(e="为什么没有缩略图？"),""==this.description&&(e="写点简介？"),""==this.categoryId&&(e="没选分类？"),""==this.img&&(e="原图必须得有！"),e)return void(this.msg={content:e,type:2});if(""!=this.id){t.id=this.id;var i="/editImage"}else var i="/mewImage";post(i,t,function(t){200==t.code&&(this.msg={content:"保存成功",type:1},history.back())}.bind(this))}},components:{upload:c["default"],messageTip:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a),n=i(4),c=s(n);e["default"]={data:function(){return{id:hashGet("id")||"",title:"",description:"",thumbnail:"",code:"",fid:0,category:[],childs:[],categoryId:"",msg:{content:"",type:""}}},ready:function(){get("/category",{type:2},function(t){t.data.forEach(function(t){t.show_child=!1}),this.category=t.data}.bind(this)),""!==this.id?get("/videoDetail",{id:this.id},function(t){if(200==t.code){var e=t.data;this.fid=e.category.father,this.changeFather(),this.categoryId=e.category.id,console.log(this.categoryId),this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail,this.code=e.code}}.bind(this)):(this.id="",this.title="",this.description="",this.thumbnail="",this.code="")},methods:{changeFather:function(){console.log(this.categoryId),this.category.forEach(function(t){t.id==this.fid&&(this.childs=t.childs)}.bind(this))},submit:function(){var t={title:this.title,thumbnail:this.thumbnail,description:this.description,categoryId:this.categoryId,code:this.code},e="";if(""==this.title&&(e="视频标题不能为空呀！"),""==this.thumbnail&&(e="为什么没有封面图？"),""==this.description&&(e="写点简介？"),""==this.categoryId&&(e="没选分类？"),""==this.code&&(e="通用代码是得要的！"),e)return void(this.msg={content:e,type:2});if(""!=this.id){t.id=this.id;var i="/editVideo"}else var i="/newVideo";post(i,t,function(t){200==t.code&&(this.msg={content:"保存成功",type:1},this.id="",this.title="",this.description="",this.thumbnail="",this.code="",history.back())}.bind(this))}},components:{upload:c["default"],messageTip:o["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{name:"",pwd:"",re_pwd:"",msg:{content:"",type:""}}},methods:{submit:function(){if(this.pwd!==this.re_pwd)this.msg={content:"两次密码不一致！",type:2};else if(this.pwd.length<6||this.pwd.length>12)this.msg={content:"密码长度在6-12位！",type:2};else{var t={name:this.name,pwd:this.pwd};post("/signup",t,function(t){200==t.code?(this.msg={content:"注册成功！",type:1},localStorage.setItem("token",t.data.token),localStorage.setItem("name",this.name),location.href="#!/index"):this.msg={content:t.msg,type:2}}.bind(this))}}},components:{"message-tip":o["default"]}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{code:{show:!1,content:""}}},methods:{update:function(){get("/fe",function(t){this.code.content=t.data,this.code.show=!0}.bind(this))}}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=s(a),n=i(1),c=s(n),d=i(2),l=s(d);l["default"].filter("time",function(t){var e=new Date(t),i=e.getFullYear(),s=("0"+e.getMonth()).slice(-2),a=("0"+e.getDate()).slice(-2),o=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return i+"- "+s+"-"+a+" "+o+":"+n}),e["default"]={data:function(){return{users:[],cur:1,all:1,condition:{status:3,name:"",email:""},msg:{content:"",type:""}}},ready:function(){this.getUser(),this.getPage(),window.addEventListener("hashchange",function(){this.getUser(),this.getPage()}.bind(this))},methods:{search:function(){var t=this.condition;hashSet({},!0),3!==t.status?hashSet({status:t.status}):"",t.name?hashSet({name:t.name}):"",t.email?hashSet({email:t.email}):"",this.getUser(),this.getPage()},getUser:function(){get("/users",hashGet(),function(t){200==t.code&&(this.users=t.data)}.bind(this))},getPage:function(){get("/userCount",hashGet(),function(t){200==t.code&&(this.all=Math.ceil(t.data[0].num/10),this.cur=hashGet("page")||1)}.bind(this))},changePage:function(t){hashSet({page:t}),this.getUser(),this.cur=t},changeStatus:function(t,e){post("/changeUserStatus",{id:t,status:e},function(t){200==t.code?(this.msg={content:1==e?"启用成功！":"禁用成功！",type:1},this.getUser()):this.msg={content:t.msg,type:2}}.bind(this))}},components:{pagination:o["default"],messageTip:c["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(3),o=s(a),n=i(1),c=s(n),d=i(2),l=s(d);l["default"].filter("time",function(t){var e=new Date(t),i=e.getFullYear(),s=("0"+e.getMonth()).slice(-2),a=("0"+e.getDate()).slice(-2),o=("0"+e.getHours()).slice(-2),n=("0"+e.getMinutes()).slice(-2);return i+"- "+s+"-"+a+" "+o+":"+n}),e["default"]={data:function(){return{videos:[],cur:1,all:1,status:1,category:[],childs:[],fid:"",categoryId:"",videoName:"",relative:{show:!1,images:[{id:5,title:"sss"}],cur_img:"",to:""},msg:{content:"",type:""}}},ready:function(){this.status=hashGet("status"),hashSet({status:hashGet("status")},!0),this.getVideo(),this.getPage(),get("/category",{type:2},function(t){t.data.forEach(function(t){t.show_child=!1}),this.category=t.data}.bind(this)),window.addEventListener("hashchange",function(){this.status=hashGet("status"),this.getVideo(),this.getPage()}.bind(this))},methods:{changePosition:function(t){var e={id:this.videos[t].id,position:this.videos[t].position};post("/changeVideo",e,function(t){200==t.code?(this.getVideo(),this.msg={content:"更改成功",type:1}):this.msg={content:t.msg,type:2}}.bind(this))},getRelation:function(t){console.log(t);var e=this.videos[t].id;this.relative.cur_img=e,get("/relation/2/"+e,function(t){200==t.code?(this.relative.images=t.data,this.relative.show=!0):this.msg={content:t.msg,type:2}}.bind(this))},rmRelative:function(t,e){var i={from:this.relative.cur_img,to:t,type:2};post("/rmRelation",i,function(t){200==t.code?this.relative.images.splice(e,1):this.msg={content:t.msg,type:2}}.bind(this))},addRelation:function(){var t={from:this.relative.cur_img,to:this.relative.to,type:2};t.to==t.from?this.msg={content:"怎么能跟自己关联呢？！",type:2}:post("/addRelation",t,function(t){200==t.code?(this.relative.images.push(t.data),this.msg={content:"添加成功！",type:1}):this.msg={content:t.msg,type:2}}.bind(this))},changeFather:function(){console.log(this.categoryId),this.category.forEach(function(t){t.id==this.fid&&(this.childs=t.childs)}.bind(this))},changePriority:function(t,e){var i={id:t,priority:e};post("/changeVideo",i,function(t){200==t.code?(this.getVideo(),this.msg={content:"更改成功",type:1}):(this.msg={content:t.msg,type:2},this.getVideo())}.bind(this))},search:function(){var t={};this.fid&&(t.fid=this.fid),this.categoryId&&(t.categoryId=this.categoryId),this.videoName&&(t.videoName=this.videoName);this.condition;hashSet(t)},getVideo:function(){get("/video",hashGet(),function(t){200==t.code&&(this.videos=t.data)}.bind(this))},getPage:function(){get("/videoCount",hashGet(),function(t){200==t.code&&(this.all=Math.ceil(t.data[0].num/10),this.cur=hashGet("page")||1)}.bind(this))},changePage:function(t){hashSet({page:t}),this.cur=t},changeStatus:function(t,e){var i=1,s="发布成功！";1==e&&(i=2,s="撤销成功！"),0==e&&(i=1,s="发布成功！"),post("/changeVideo",{id:t,status:i},function(t){200==t.code?(this.getVideo(),this.msg={content:s,type:1}):this.msg={content:t.msg,type:2}}.bind(this))}},components:{pagination:o["default"],messageTip:c["default"]}}},function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=s(a);e["default"]={data:function(){return{categorys:[],addChild:{show:!1,father:"",fathername:"",child:"",childname:"",description:"",msg:{content:"",type:1}},del:{del_id:0,show:!1}}},ready:function(){this.getData()},methods:{init:function(t,e,i,s,a){this.addChild.father=t||0,this.addChild.fathername=e,this.addChild.child=i,this.addChild.childname=s,this.addChild.description=a,this.addChild.show=!0},getData:function(){get("/category",{type:2},function(t){t.data.forEach(function(t){t.show_child=!1}),this.categorys=t.data}.bind(this))},add:function(){var t={father:this.addChild.father,childname:this.addChild.childname,type:2,description:this.addChild.description};this.addChild.child&&(t.child=this.addChild.child),post("/addCategory",t,function(t){200==t.code&&(this.msg={content:"修改成功！",type:1},this.addChild.show=!1,this.getData())}.bind(this))},"delete":function(t){console.log(this.del.del_id),this.categorys.forEach(function(e){if(e.id==t&&e.childs&&e.childs.length>0)return void(this.msg={content:"该分类下有子类，请先删除或移至其他分类",type:2})}),post("/delCategory",{id:this.del.del_id},function(t){200==t.code?(this.msg={content:"删除成功！",type:1},this.getData(),this.del.show=!1):this.msg={content:t.msg,type:2}}.bind(this))}},components:{messageTip:o["default"]}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=' <div class=left-side id=left-side> <div class=left-logo> <div class=left-logo-area> </div> </div> <div class=nav-line v-for="c in com" :style="{height:c.active?(c.items.length+1)*42 + \'px\':\'42px\'}" @click=active(c)> <div class=nav-head :class="{\'nav-active\':c.active}"> <b class="iconfont icon-paycircleo"></b> <span>{{c.name}}</span> <i class="icon-caretcircledown pull-right"></i> </div> <ul> <li v-for="item in c.items" @click.stop=choose(c,item)><a :href="\'/#!\'+item.url" :class="{\'cur-a\':item.active}">{{item.name}}</a></li> </ul> </div> </div> '},function(t,e){t.exports=" <div id=message> <div class=message v-bind:class=\"{'message-move': show}\"> <div class=message-content> <i class=iconfont v-bind:class=\"{'ok': type == 1, 'error': type == 2, 'loading': type==3}\"></i> <span>{{ text }}</span> </div> </div> </div> "},function(t,e){t.exports=' <ul class="page pull-right" v-show="all > 1"> <li v-for="item in prevobj.preplist" :class="{active: cur == item}" @click=clictem)> <a>{{ item }}</a> </li> <li class=jump v-show=prevobj.preomit></li> <li v-for="item in prevobj.prenlist" :class="{active: cur == item}" @click=clictem)> <a>{{ item }}</a> </li> <li v-for="item in curobj" :class="{active: cur == item}" @click=click(item)> <a>{{ item }}</a> </li> <li v-for="item in nextobj.nextplist" :class="{active: cur == item}" @click=clictem)> <a>{{ item }}</a> </li> <li class=jump v-show=nextobj.nextomit></li> <li v-for="item in nextobj.nextnlist" :class="{active: cur == item}" @click=clictem)> <a>{{ item }}</a> </li> </ul>\' '},function(t,e){t.exports=' <button class="btn btn-default" @click=btn><i class="iconfont icon-upload"></i> 上传图片</button> <div> <form style="display: none" v-el:form> <input type=file @change=upload v-el:file accept="image/jpg, image/jpeg, image/png"> </form> </div> '},function(t,e){t.exports=" <h1>404</h1> <a v-link=\"{path:'/index'}\">返回首页</a>> "},function(t,e){t.exports=' <h2>更改密码</h2> <div class=changePwd> <div class=row> <div class=col-3> <label for="" class="label col-3">当前密码</label> </div> <input type=password placeholder=当前密码 class="col-4 input" v-model=pwd> </div> <div class=row> <div class=col-3> <label for="" class="label col-3">新设密码</label> </div> <input type=password placeholder=新设密码 class="col-4 input" v-model=newPwd> </div> <div class=row> <div class=col-3> <label for="" class="label col-3">确认密码</label> </div> <input type=password placeholder=确认密码 class="col-4 input" v-model=rePwd> </div> <div class=row> <div class=col-3> <label for="" class="label col-3"></label> </div> <button class="btn btn-ok" @click=submit>提交</button> </div> <div id=message> <message-tip :msg=msg></message-tip> </div> </div> '},function(t,e){t.exports='<div class="row login"><h1 class=title>注册</h1><div class=row><div class=col-3><label class=label>用户名：</label></div><input placeholder=用户名 v-model=name class="col-9 input"/></div><div class=row><div class=col-3><label class=label>密码：</label></div><input placeholder=密码 type=password v-model=pwd class="col-9 input"/></div><div class=row><div class=col-3><label class=label>确认密码：</label></div><input placeholder=确认密码 type=password v-model=re_pwd class="col-9 input"/></div><div class=row><div class="col-2 col-offset-3"><button @click=submit class="btn btn-ok">注册</button></div><div class=col-7><a href=#!/login class=tologin>已有账户？登录</a></div></div><div id=mesage><message-tip :msg=msg></message-tip></div></div>'},function(t,e){t.exports='<h1 class=title _v-0825839a="">欢迎使用多媒体网络资源管理平台</h1>'},function(t,e){t.exports=' <div class=row _v-10915b88=""> <h2 _v-10915b88="">图片列表（{{status==1?\'已发布\':status==0?\'草稿箱\':\'回收站\'}}）</h2> </div> <div class=row _v-10915b88=""> <label for="" class="" _v-10915b88="">图片分类：</label> <select class=select name="" id="" v-model=fid @change=changeFather() _v-10915b88=""> <option value="" _v-10915b88="">选择大类</option> <option :value=f.id v-for="f in category" _v-10915b88="">{{f.name}}</option> </select> <select class=select name="" id="" v-model=categoryId _v-10915b88=""> <option value="" _v-10915b88="">选择小类</option> <option :value=c.id v-for="c in childs" _v-10915b88="">{{c.name}}</option> </select> <input type=text class=input placeholder=输入图片关键字 v-model=imageName _v-10915b88=""> <button class="btn btn-ok" @click=search _v-10915b88="">搜索</button> </div> <div class=row _v-10915b88=""> <table class="table image-list" _v-10915b88=""> <tbody _v-10915b88=""><tr _v-10915b88=""> <th _v-10915b88="">编号</th> <th _v-10915b88="">标题</th> <th _v-10915b88="">缩略图</th> <th class=abstract _v-10915b88="">简介</th> <th _v-10915b88="">发布时间</th> <th _v-10915b88="">类别</th> <th _v-10915b88="">位置</th> <th _v-10915b88="">优先级</th> <th width=190 _v-10915b88="">操作</th> </tr> <tr v-for="image in images" _v-10915b88=""> <td _v-10915b88="">{{image.id}}</td> <td _v-10915b88="">{{image.title}}</td> <td _v-10915b88=""><img :src=image.thumbnail alt="" width=100 height=100 _v-10915b88=""></td> <td _v-10915b88="">{{image.description}}</td> <td _v-10915b88="">{{image.time|time}}</td> <td _v-10915b88=""> {{image.category.name}} </td> <td _v-10915b88=""> <select name="" id="" @change=changePosition($index) v-model=image.position _v-10915b88=""> <option value=3 _v-10915b88="">轮播图片</option> <option value=2 _v-10915b88="">首页</option> <option value=1 _v-10915b88="">普通</option> </select> </td> <td _v-10915b88=""> <input type=text class="input input-sm" v-model=image.priority @change=changePriority(image.id,image.priority) _v-10915b88=""> </td> <td _v-10915b88=""> <a href="javascript:void 0" @click=changeStatus(image.id,image.status) _v-10915b88="">{{image.status==1?\'撤销\':(image.status==0?\'发布\':\'恢复\')}}</a> | <a href="#!/newImage?id={{image.id}}" _v-10915b88="">编辑</a> | <a href=#!/editContent/1/{{image.id}} _v-10915b88="">正文</a> | <a href="javascript:void 0" @click=getRelation($index) _v-10915b88="">相关图片</a> </td> </tr> </tbody></table> </div> <div id=edit1 class=model-back v-show=relative.show style="display: none" transition=modal _v-10915b88=""> <div class=model-box _v-10915b88=""> <div class=model-header _v-10915b88=""> <h2 _v-10915b88="">相关图片</h2> <i class="iconfont icon-cross" @click="relative.show=false" _v-10915b88=""></i> </div> <div class=model-body _v-10915b88=""> <div class=row _v-10915b88=""> <div class=col-4 _v-10915b88=""> <label class="req-lab label" _v-10915b88="">输入图片ID：</label> </div> <div class=col-8 _v-10915b88=""> <div class=input-wrap _v-10915b88=""> <input type=text class="input middle-input" v-model=relative.to _v-10915b88=""> <button class="btn btn-ok" @click=addRelation _v-10915b88="">添加</button> </div> </div> </div> <div class=row _v-10915b88=""> <table class="table relation" _v-10915b88=""> <tbody _v-10915b88=""><tr v-for=" re in  relative.images" _v-10915b88=""> <td _v-10915b88="">{{re.id}}</td> <td _v-10915b88="">{{re.title}}</td> <td class=action _v-10915b88=""> <button class="btn btn-light" @click=rmRelative(re.id,$index) _v-10915b88="">取消</button> </td> </tr> </tbody></table> </div> </div> </div> </div> <div id=message _v-10915b88=""> <message-tip :msg=msg _v-10915b88=""></message-tip> </div> <pagination :cur=cur :all=all @page-change=changePage _v-10915b88=""></pagination> ';
},function(t,e){t.exports=' <h2 _v-10ea5f4c="">图片类别管理</h2> <div class=row _v-10ea5f4c=""> <button class="btn btn-ok" @click="init(0,\'\')" _v-10ea5f4c="">添加大类</button> </div> <table class=table _v-10ea5f4c=""> <tbody _v-10ea5f4c=""><tr _v-10ea5f4c=""> <th width=150px _v-10ea5f4c="">ID</th> <th width=150px _v-10ea5f4c="">名 称</th> <th width=150px _v-10ea5f4c="">展 开</th> <th _v-10ea5f4c="">操 作</th> </tr> <template v-for="c in categorys"> <tr _v-10ea5f4c=""> <td _v-10ea5f4c="">{{c.id}}</td> <td _v-10ea5f4c="">{{c.name}}</td> <td @click="c.show_child=!c.show_child" _v-10ea5f4c=""> <span v-if="c.show_child == false" _v-10ea5f4c=""><b class=x-open _v-10ea5f4c="">+</b></span> <span v-else="" _v-10ea5f4c=""> <b class=x-open _v-10ea5f4c="">-</b> </span></td> <td _v-10ea5f4c=""> <button class="btn btn-ok" @click="init(\'\',\'\',c.id,c.name,c.description)" _v-10ea5f4c="">修改</button> <button class=btn @click="(del.del_id = c.id) &amp;&amp; (del.show=true)" _v-10ea5f4c="">删除</button> <button class="btn btn-light" @click=init(c.id,c.name) _v-10ea5f4c=""> 添加子分类 </button> </td> </tr> <tr v-for="t in c.childs" class=sub-tr v-if=c.show_child _v-10ea5f4c=""> <td _v-10ea5f4c=""></td> <td _v-10ea5f4c="">{{t.name}}</td> <td _v-10ea5f4c=""></td> <td _v-10ea5f4c=""> <button class="btn btn-ok" @click=init(c.id,c.name,t.id,t.name,t.description) _v-10ea5f4c="">修改</button> <button class=btn @click="(del.del_id = t.id) &amp;&amp; (del.show=true)" _v-10ea5f4c="">删除</button> </td> </tr> </template> </tbody></table> <div id=del class=model-back style="display: none" v-show=del.show transition=modal _v-10ea5f4c=""> <div class=model-confirm _v-10ea5f4c=""> <div class=model-text _v-10ea5f4c=""> <i class="iconfont icon-questioncircle" _v-10ea5f4c=""></i> <span _v-10ea5f4c="">确定删除此分类？</span> </div> <div class=model-confirm-btns _v-10ea5f4c=""> <div class=btn @click="del.show=false" _v-10ea5f4c="">取消</div> <div class="btn btn-ok" @click=delete _v-10ea5f4c="">确定</div> </div> </div> </div> <div id=edit1 class=model-back v-show=addChild.show style="display: none" transition=modal _v-10ea5f4c=""> <div class=model-box _v-10ea5f4c=""> <div class=model-header _v-10ea5f4c=""> <h2 _v-10ea5f4c="">{{ type == \'new\'? \'添加类别\': \'编辑类别\'}}</h2> <i class="iconfont icon-cross" @click="addChild.show=false" _v-10ea5f4c=""></i> </div> <div class=model-body _v-10ea5f4c=""> <div class=row v-if=addChild.fathername _v-10ea5f4c=""> <div class="col-2 col-offset-1" _v-10ea5f4c=""> <label class="req-lab label" _v-10ea5f4c="">父类别：</label> </div> <div class=col-4 _v-10ea5f4c=""> <div class=input-wrap _v-10ea5f4c=""> {{addChild.fathername||\'\'}} </div> </div> </div> <div class=row _v-10ea5f4c=""> <div class=col-3 _v-10ea5f4c=""> <label class="req-lab label" _v-10ea5f4c="">类别名称：</label> </div> <div class=col-4 _v-10ea5f4c=""> <div class=input-wrap _v-10ea5f4c=""> <input type=text class="input middle-input" v-model=addChild.childname _v-10ea5f4c=""> </div> </div> </div> <div class=row _v-10ea5f4c=""> <div class=col-3 _v-10ea5f4c=""> <label class=label _v-10ea5f4c="">描述：</label> </div> <div class=col-7 _v-10ea5f4c=""> <div class=input-wrap _v-10ea5f4c=""> <textarea name="" id="" cols=30 rows=10 class=textarea v-model=addChild.description _v-10ea5f4c=""></textarea> </div> </div> </div> <div class=row _v-10ea5f4c=""> <button class="btn btn-ok col-offset-3" @click=add _v-10ea5f4c="">提交</button> </div> </div> </div> </div> <div id=message _v-10ea5f4c=""> <message-tip :msg=msg _v-10ea5f4c=""></message-tip> </div> '},function(t,e){t.exports=' <div class=row _v-1ce7da23=""> <h2 _v-1ce7da23="">评论列表（{{status==1?\'已通过\':status==0?\'未审核\':\'未通过\'}}）</h2> </div> <div class=row _v-1ce7da23=""> <input type=text class=input placeholder=输入评论关键字 v-model=content _v-1ce7da23=""> <button class="btn btn-ok" @click=search _v-1ce7da23="">搜索</button> </div> <div class=row _v-1ce7da23=""> <table class=table _v-1ce7da23=""> <tbody _v-1ce7da23=""><tr _v-1ce7da23=""> <th _v-1ce7da23="">编号</th> <th width=480 _v-1ce7da23="">内容</th> <th _v-1ce7da23="">发布时间</th> <th _v-1ce7da23="">发布人</th> <th style=width:160px _v-1ce7da23="">操作</th> </tr> <tr v-for="comment in comments" _v-1ce7da23=""> <td _v-1ce7da23="">{{comment.id}}</td> <td _v-1ce7da23="">{{comment.content}}</td> <td _v-1ce7da23="">{{comment.time|time}}</td> <td _v-1ce7da23="">{{comment.user.name}}</td> <td _v-1ce7da23=""> <button class="btn btn-ok" @click=changeStatus(comment.id,1) v-if="status!=1" _v-1ce7da23="">通过</button> <button class="btn btn-light" @click=changeStatus(comment.id,2) v-if="status!=2" _v-1ce7da23=""> 不通过</button> </td> </tr> </tbody></table> </div> <div id=message _v-1ce7da23=""> <message-tip :msg=msg _v-1ce7da23=""></message-tip> </div> <pagination :cur=cur :all=all @page-change=changePage _v-1ce7da23=""></pagination> '},function(t,e){t.exports=' <div class=row _v-2066a8a5=""> <h2 class=title _v-2066a8a5="">{{id==0?\'新建\':\'编辑\'}}图片</h2> </div> <div class=row _v-2066a8a5=""> <div class=col-2 _v-2066a8a5=""> <label for="" class=label _v-2066a8a5="">类别：</label> </div> <div class=col-8 _v-2066a8a5=""> <select class=select v-model=maintype _v-2066a8a5=""> <option value="" _v-2066a8a5="">其他</option> <option value=1 _v-2066a8a5="">天文知识</option> <option value=2 _v-2066a8a5="">太空探索</option> <option value=3 _v-2066a8a5="">摄影器材</option> <option value=4 _v-2066a8a5="">其他</option> </select> </div> </div> <div class=row _v-2066a8a5=""> <div class=col-2 _v-2066a8a5=""> <label for="" class=label _v-2066a8a5="">标题：</label> </div> <div class=col-8 _v-2066a8a5=""> <input type=text class=input placeholder=输入图片标题 v-model=title _v-2066a8a5=""> </div> </div> <div class=row _v-2066a8a5=""> <div class=col-2 _v-2066a8a5=""> <label for="" class=label _v-2066a8a5="">简介：</label> </div> <div class=col-8 _v-2066a8a5=""> <textarea name="" id="" cols=30 rows=10 class=textarea placeholder=输入图片简介 v-model=description _v-2066a8a5=""></textarea> </div> </div> <div class=row _v-2066a8a5=""> <div class=col-2 _v-2066a8a5=""> <label for="" class=label _v-2066a8a5="">选择缩略图：</label> </div> <div class=col-8 _v-2066a8a5=""> <img :src=thumbnail alt="" width=100 height=100 _v-2066a8a5=""> <upload _v-2066a8a5=""></upload> </div> </div> <div class=row _v-2066a8a5=""> <div class=col-offset-2 _v-2066a8a5=""> <button class="btn btn-ok" @click=submit _v-2066a8a5="">保存</button> </div> </div> '},function(t,e){t.exports=' <h2 _v-230587fa="">用户列表</h2> <div class=row _v-230587fa=""> <div class=col-9 _v-230587fa=""> <input type=text style=width:150px class=input placeholder=用户名 v-model=condition.name _v-230587fa=""> <input type=text style=width:150px class=input placeholder=用户邮箱 v-model=condition.email _v-230587fa=""> <button class="btn btn-ok" @click=search _v-230587fa="">搜索</button> </div> </div> <div class=row _v-230587fa=""> <table class=table _v-230587fa=""> <tbody _v-230587fa=""><tr _v-230587fa=""> <th _v-230587fa="">编号</th> <th _v-230587fa="">用户名</th> <th _v-230587fa="">邮箱</th> <th _v-230587fa="">注册时间</th> <th _v-230587fa="">收藏图片</th> <th _v-230587fa="">收藏视频</th> <th _v-230587fa="">状态</th> <th _v-230587fa="">操作</th> </tr> <tr v-for="u in users" _v-230587fa=""> <td _v-230587fa="">{{u.id}}</td> <td _v-230587fa="">{{u.name}}</td> <td _v-230587fa="">{{u.email}}</td> <td _v-230587fa="">{{u.reg_time|time}}</td> <td _v-230587fa="">0</td> <td _v-230587fa="">0</td> <td _v-230587fa="">{{u.status==0?\'已禁用\':\'已启用\'}}</td> <td _v-230587fa=""> <button class="btn btn-ok" @click=changeStatus(u.id,1) v-if="u.status == 0" _v-230587fa="">启用</button> <button class=btn @click=changeStatus(u.id,0) v-else="" _v-230587fa="">禁用</button> </td> </tr> </tbody></table> </div> <pagination :cur=cur :all=all @page-change=changePage _v-230587fa=""></pagination> <div id=message _v-230587fa=""> <message-tip :msg=msg _v-230587fa=""></message-tip> </div> '},function(t,e){t.exports=' <h2 _v-24d88b7a="">视频类别管理</h2> <div class=row _v-24d88b7a=""> <button class="btn btn-ok" @click="init(0,\'\')" _v-24d88b7a="">添加大类</button> </div> <table class=table _v-24d88b7a=""> <tbody _v-24d88b7a=""><tr _v-24d88b7a=""> <th width=150px _v-24d88b7a="">ID</th> <th width=150px _v-24d88b7a="">名 称</th> <th width=150px _v-24d88b7a="">展 开</th> <th _v-24d88b7a="">操 作</th> </tr> <template v-for="c in categorys"> <tr _v-24d88b7a=""> <td _v-24d88b7a="">{{c.id}}</td> <td _v-24d88b7a="">{{c.name}}</td> <td @click="c.show_child=!c.show_child" _v-24d88b7a=""> <span v-if="c.show_child == false" _v-24d88b7a=""><b class=x-open _v-24d88b7a="">+</b></span> <span v-else="" _v-24d88b7a=""> <b class=x-open _v-24d88b7a="">-</b> </span></td> <td _v-24d88b7a=""> <button class="btn btn-ok" @click="init(\'\',\'\',c.id,c.name,c.description)" _v-24d88b7a="">修改</button> <button class=btn @click="(del.del_id = c.id) &amp;&amp; (del.show=true)" _v-24d88b7a="">删除</button> <button class="btn btn-light" @click=init(c.id,c.name) _v-24d88b7a=""> 添加子分类 </button> </td> </tr> <tr v-for="t in c.childs" class=sub-tr v-if=c.show_child _v-24d88b7a=""> <td _v-24d88b7a=""></td> <td _v-24d88b7a="">{{t.name}}</td> <td _v-24d88b7a=""></td> <td _v-24d88b7a=""> <button class="btn btn-ok" @click=init(c.id,c.name,t.id,t.name,t.description) _v-24d88b7a="">修改</button> <button class=btn @click="(del.del_id = t.id) &amp;&amp; (del.show=true)" _v-24d88b7a="">删除</button> </td> </tr> </template> </tbody></table> <div id=del class=model-back style="display: none" v-show=del.show transition=modal _v-24d88b7a=""> <div class=model-confirm _v-24d88b7a=""> <div class=model-text _v-24d88b7a=""> <i class="iconfont icon-questioncircle" _v-24d88b7a=""></i> <span _v-24d88b7a="">确定删除此分类？</span> </div> <div class=model-confirm-btns _v-24d88b7a=""> <div class=btn @click="del.show=false" _v-24d88b7a="">取消</div> <div class="btn btn-ok" @click=delete _v-24d88b7a="">确定</div> </div> </div> </div> <div id=edit1 class=model-back v-show=addChild.show style="display: none" transition=modal _v-24d88b7a=""> <div class=model-box _v-24d88b7a=""> <div class=model-header _v-24d88b7a=""> <h2 _v-24d88b7a="">{{ type == \'new\'? \'添加类别\': \'编辑类别\'}}</h2> <i class="iconfont icon-cross" @click="addChild.show=false" _v-24d88b7a=""></i> </div> <div class=model-body _v-24d88b7a=""> <div class=row v-if=addChild.fathername _v-24d88b7a=""> <div class="col-2 col-offset-1" _v-24d88b7a=""> <label class="req-lab label" _v-24d88b7a="">父类别：</label> </div> <div class=col-4 _v-24d88b7a=""> <div class=input-wrap _v-24d88b7a=""> {{addChild.fathername||\'\'}} </div> </div> </div> <div class=row _v-24d88b7a=""> <div class=col-3 _v-24d88b7a=""> <label class="req-lab label" _v-24d88b7a="">类别名称：</label> </div> <div class=col-4 _v-24d88b7a=""> <div class=input-wrap _v-24d88b7a=""> <input type=text class="input middle-input" v-model=addChild.childname _v-24d88b7a=""> </div> </div> </div> <div class=row _v-24d88b7a=""> <div class=col-3 _v-24d88b7a=""> <label class=label _v-24d88b7a="">描述：</label> </div> <div class=col-7 _v-24d88b7a=""> <div class=input-wrap _v-24d88b7a=""> <textarea name="" id="" cols=30 rows=10 class=textarea v-model=addChild.description _v-24d88b7a=""></textarea> </div> </div> </div> <div class=row _v-24d88b7a=""> <button class="btn btn-ok col-offset-3" @click=add _v-24d88b7a="">提交</button> </div> </div> </div> </div> <div id=message _v-24d88b7a=""> <message-tip :msg=msg _v-24d88b7a=""></message-tip> </div> '},function(t,e){t.exports=' <div class=row _v-4e08bf6a=""> <h2 class=title _v-4e08bf6a="">{{id==\'\'?\'新建\':\'编辑\'}}视频</h2> </div> <div class=row _v-4e08bf6a=""> <div class=col-2 _v-4e08bf6a=""> <label for="" class=label _v-4e08bf6a="">标题：</label> </div> <div class=col-8 _v-4e08bf6a=""> <input type=text class=input placeholder=输入视频标题 v-model=title _v-4e08bf6a=""> </div> </div> <div class=row _v-4e08bf6a=""> <div class=col-2 _v-4e08bf6a=""> <label for="" class=label _v-4e08bf6a="">视频分类：</label> </div> <div class=col-8 _v-4e08bf6a=""> <select class=select name="" id="" v-model=fid @change=changeFather() _v-4e08bf6a=""> <option value="" _v-4e08bf6a="">选择大类</option> <option :value=f.id v-for="f in category" _v-4e08bf6a="">{{f.name}}</option> </select> <select class=select name="" id="" v-model=categoryId _v-4e08bf6a=""> <option value="" _v-4e08bf6a="">选择小类</option> <option :value=c.id v-for="c in childs" _v-4e08bf6a="">{{c.name}}</option> </select> </div> </div> <div class=row _v-4e08bf6a=""> <div class=col-2 _v-4e08bf6a=""> <label for="" class=label _v-4e08bf6a="">简介：</label> </div> <div class=col-8 _v-4e08bf6a=""> <textarea name="" id="" cols=30 rows=10 class=textarea placeholder=输入视频简介 v-model=description _v-4e08bf6a=""></textarea> </div> </div> <div class=row _v-4e08bf6a=""> <div class=col-2 _v-4e08bf6a=""> <label for="" class=label _v-4e08bf6a="">通用代码：</label> </div> <div class=col-8 _v-4e08bf6a=""> <textarea name="" id="" cols=30 rows=5 class=textarea placeholder=输入视频通用代码 v-model=code _v-4e08bf6a=""></textarea> </div> </div> <div class=row _v-4e08bf6a=""> <div class=col-2 _v-4e08bf6a=""> <label for="" class=label _v-4e08bf6a="">选择封面图：</label> </div> <div class=col-4 _v-4e08bf6a=""> <upload :url.sync=thumbnail _v-4e08bf6a=""></upload> <img :src=thumbnail alt="" width=100 height=100 style="" _v-4e08bf6a=""> </div> </div> <div class=row _v-4e08bf6a=""> <div class=col-offset-2 _v-4e08bf6a=""> <button class="btn btn-ok" @click=submit _v-4e08bf6a="">保存</button> </div> </div> <div id=message _v-4e08bf6a=""> <message-tip :msg=msg _v-4e08bf6a=""></message-tip> </div> '},function(t,e){t.exports=' <div class=top _v-590cb896=""> <h1 _v-590cb896="">多媒体网络资源管理平台</h1> <p class=pull-right _v-590cb896=""> 用户名：<span id=name _v-590cb896="">{{name}}</span><a href="javascript:void 0" @click=clear _v-590cb896="">退出</a></p> </div> '},function(t,e){t.exports=' <h2 _v-5c718076="">代码部署</h2> <div class=row _v-5c718076=""> <ul class=col-offset-1 _v-5c718076=""> <li _v-5c718076="">更新管理平台代码 【fe_dev】 <button class="btn btn-ok" @click=update _v-5c718076="">更新</button> </li> <li _v-5c718076="">更新普通用户平台代码 <button class="btn btn-light" _v-5c718076="">更新</button> </li> <li _v-5c718076="">更新普通用户平台代码 <button class="btn btn-light" _v-5c718076="">更新</button> </li> </ul> </div> <div id=edit1 class=model-back v-show=code.show style="display: none" transition=modal _v-5c718076=""> <div class=model-box _v-5c718076=""> <div class=model-header _v-5c718076=""> <h2 _v-5c718076="">服务器代码拉取结果</h2> <i class="iconfont icon-cross" @click="code.show=false" _v-5c718076=""></i> </div> <div class=model-body _v-5c718076=""> <div class=row _v-5c718076=""> {{{code.content}}} </div> <div class=row _v-5c718076=""> <div class=col-offset-5 _v-5c718076=""><button class="btn btn-ok" @click="code.show=false" _v-5c718076="">确定</button></div> </div> </div> </div> </div> '},function(t,e){t.exports=' <div class=row _v-6b84376c=""> <h2 _v-6b84376c="">{{id==\'\'?\'新建\':\'编辑\'}}图片</h2> </div> <div class=row _v-6b84376c=""> <div class=col-2 _v-6b84376c=""> <label for="" class=label _v-6b84376c="">标题：</label> </div> <div class=col-8 _v-6b84376c=""> <input type=text class=input placeholder=输入图片标题 v-model=title _v-6b84376c=""> </div> </div> <div class=row _v-6b84376c=""> <div class=col-2 _v-6b84376c=""> <label for="" class=label _v-6b84376c="">图片分类：</label> </div> <div class=col-8 _v-6b84376c=""> <select class=select name="" id="" v-model=fid @change=changeFather() _v-6b84376c=""> <option value="" _v-6b84376c="">选择大类</option> <option :value=f.id v-for="f in category" _v-6b84376c="">{{f.name}}</option> </select> <select class=select name="" id="" v-model=categoryId _v-6b84376c=""> <option value="" _v-6b84376c="">选择小类</option> <option :value=c.id v-for="c in childs" _v-6b84376c="">{{c.name}}</option> </select> </div> </div> <div class=row _v-6b84376c=""> <div class=col-2 _v-6b84376c=""> <label for="" class=label _v-6b84376c="">简介：</label> </div> <div class=col-8 _v-6b84376c=""> <textarea name="" id="" cols=30 rows=10 class=textarea placeholder=输入图片简介 v-model=description _v-6b84376c=""></textarea> </div> </div> <div class=row _v-6b84376c=""> <div class=col-2 _v-6b84376c=""> <label for="" class=label _v-6b84376c="">选择原图：</label> </div> <div class=col-4 _v-6b84376c=""> <upload :url.sync=thumbnail _v-6b84376c=""></upload> <img :src=thumbnail alt="" width=100 height=100 _v-6b84376c=""> </div> <div class=col-2 _v-6b84376c=""> <label for="" class=label _v-6b84376c="">选择缩略图：</label> </div> <div class=col-4 _v-6b84376c=""> <upload :url.sync=img _v-6b84376c=""></upload> <img :src=img alt="" width=100 height=100 _v-6b84376c=""> </div> </div> <div class=row _v-6b84376c=""> <div class=col-offset-2 _v-6b84376c=""> <button class="btn btn-ok" @click=submit _v-6b84376c="">保存</button> </div> </div> <div id=message _v-6b84376c=""> <message-tip :msg=msg _v-6b84376c=""></message-tip> </div> '},function(t,e){t.exports='<div class=login _v-74d63d6c=""><div class=row _v-74d63d6c=""><h1 class=col-offset-4 _v-74d63d6c="">多媒体网络资源管理平台</h1></div><div class=row _v-74d63d6c=""><div class=col-3 _v-74d63d6c=""><label class=label _v-74d63d6c="">用户名</label></div><input placeholder=输入用户名 v-model=name class="col-9 input" _v-74d63d6c=""></div><div class=row _v-74d63d6c=""><div class=col-3 _v-74d63d6c=""><label class=label _v-74d63d6c="">密码</label></div><input placeholder=输入密码 type=password v-model=pwd class="col-9 input" _v-74d63d6c=""></div><div class=row _v-74d63d6c=""><div class="col-2 col-offset-3" _v-74d63d6c=""><button @click=submit class="btn btn-ok" _v-74d63d6c="">登录</button></div></div><message-tip :msg=msg _v-74d63d6c=""></message-tip></div>'},function(t,e){t.exports=' <div class=row _v-7b822d5c=""> <h2 _v-7b822d5c="">视频列表（{{status==1?\'已发布\':status==0?\'草稿箱\':\'回收站\'}}）</h2> </div> <div class=row _v-7b822d5c=""> <label for="" class="" _v-7b822d5c="">视频分类：</label> <select class=select name="" id="" v-model=fid @change=changeFather() _v-7b822d5c=""> <option value="" _v-7b822d5c="">选择大类</option> <option :value=f.id v-for="f in category" _v-7b822d5c="">{{f.name}}</option> </select> <select class=select name="" id="" v-model=categoryId _v-7b822d5c=""> <option value="" _v-7b822d5c="">选择小类</option> <option :value=c.id v-for="c in childs" _v-7b822d5c="">{{c.name}}</option> </select> <input type=text class=input placeholder=输入视频关键字 v-model=videoName _v-7b822d5c=""> <button class="btn btn-ok" @click=search _v-7b822d5c="">搜索</button> </div> <div class=row _v-7b822d5c=""> <table class="table video-list" _v-7b822d5c=""> <tbody _v-7b822d5c=""><tr _v-7b822d5c=""> <th _v-7b822d5c="">编号</th> <th _v-7b822d5c="">标题</th> <th _v-7b822d5c="">缩略图</th> <th class=abstract _v-7b822d5c="">简介</th> <th _v-7b822d5c="">发布时间</th> <th _v-7b822d5c="">类别</th> <th _v-7b822d5c="">位置</th> <th _v-7b822d5c="">优先级</th> <th width=190 _v-7b822d5c="">操作</th> </tr> <tr v-for="video in videos" _v-7b822d5c=""> <td _v-7b822d5c="">{{video.id}}</td> <td _v-7b822d5c="">{{video.title}}</td> <td _v-7b822d5c=""><img :src=video.thumbnail alt="" width=100 height=100 _v-7b822d5c=""></td> <td _v-7b822d5c="">{{video.description}}</td> <td _v-7b822d5c="">{{video.time | time}}</td> <td _v-7b822d5c=""> {{video.category.name}} </td> <td _v-7b822d5c=""> <select name="" id="" @change=changePosition($index) v-model=video.position _v-7b822d5c=""> <option value=2 _v-7b822d5c="">首页</option> <option value=1 _v-7b822d5c="">普通</option> </select> </td> <td _v-7b822d5c=""> <input type=text class="input input-sm" v-model=video.priority @change=changePriority(video.id,video.priority) _v-7b822d5c=""> </td> <td _v-7b822d5c=""> <a href="javascript:void 0" @click=changeStatus(video.id,video.status) _v-7b822d5c="">{{video.status==1?\'撤销\':(video.status==0?\'发布\':\'恢复\')}}</a> | <a href="#!/newVideo?id={{video.id}}" _v-7b822d5c="">编辑</a> | <a href=#!/editContent/2/{{video.id}} _v-7b822d5c="">正文</a> | <a href="javascript:void 0" @click=getRelation($index) _v-7b822d5c="">相关视频</a> </td> </tr> </tbody></table> </div> <div id=edit1 class=model-back v-show=relative.show style="display: none" transition=modal _v-7b822d5c=""> <div class=model-box _v-7b822d5c=""> <div class=model-header _v-7b822d5c=""> <h2 _v-7b822d5c="">相关视频</h2> <i class="iconfont icon-cross" @click="relative.show=false" _v-7b822d5c=""></i> </div> <div class=model-body _v-7b822d5c=""> <div class=row _v-7b822d5c=""> <div class=col-4 _v-7b822d5c=""> <label class="req-lab label" _v-7b822d5c="">输入视频ID：</label> </div> <div class=col-8 _v-7b822d5c=""> <div class=input-wrap _v-7b822d5c=""> <input type=text class="input middle-input" v-model=relative.to _v-7b822d5c=""> <button class="btn btn-ok" @click=addRelation _v-7b822d5c="">添加</button> </div> </div> </div> <div class=row _v-7b822d5c=""> <table class="table relation" _v-7b822d5c=""> <tbody _v-7b822d5c=""><tr v-for=" re in  relative.images" _v-7b822d5c=""> <td _v-7b822d5c="">{{re.id}}</td> <td _v-7b822d5c="">{{re.title}}</td> <td class=action _v-7b822d5c=""> <button class="btn btn-light" @click=rmRelative(re.id,$index) _v-7b822d5c="">取消</button> </td> </tr> </tbody></table> </div> </div> </div> </div> <div id=message _v-7b822d5c=""> <message-tip :msg=msg _v-7b822d5c=""></message-tip> </div> <pagination :cur=cur :all=all @page-change=changePage _v-7b822d5c=""></pagination> '},function(t,e){t.exports=' <div class=row _v-a08959a0=""> <label for="" class=content-title _v-a08959a0="">标题：</label> <h2 class=content-title _v-a08959a0="">{{title}}</h2> </div> <div class=row _v-a08959a0=""> <script id=container name=content type=text/plain style=height:500px;width:800px _v-a08959a0=""> // 这里写你的初始化内容 </script> </div> <div class=row _v-a08959a0=""> <div class=col-offset-2 _v-a08959a0=""> <button class="btn btn-ok" @click=submit _v-a08959a0="">保存</button> </div> </div> <div id=message _v-a08959a0=""> <message-tip :msg=msg _v-a08959a0=""></message-tip> </div> '},function(t,e){t.exports=' <v-nav _v-e970e04e=""></v-nav> <left-bar _v-e970e04e=""></left-bar> <div class=main _v-e970e04e=""> <router-view _v-e970e04e=""></router-view> </div> '},function(t,e,i){var s,a;i(44),s=i(7),a=i(66),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(27),s=i(8),a=i(45),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(38),s=i(10),a=i(60),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;a=i(49),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(28),s=i(13),a=i(50),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(33),s=i(14),a=i(55),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(43),s=i(15),a=i(65),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(31),s=i(16),a=i(53),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(32),s=i(17),a=i(54),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(41),s=i(18),a=i(63),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(34),s=i(19),a=i(56),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(40),s=i(20),a=i(62),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(37),s=i(21),a=i(59),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(29),s=i(22),a=i(51),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(39),s=i(23),a=i(61),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(35),s=i(24),a=i(57),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(42),s=i(25),a=i(64),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)},function(t,e,i){var s,a;i(36),s=i(26),a=i(58),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=a)}]);
//# sourceMappingURL=app.b1f2dcf884d89dc85f05.js.map